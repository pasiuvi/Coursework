<!DOCTYPE html>
<html>
<head>
    <title>Faculty Workload</title>
</head>
<body>
    <h1>Faculty Workload Overview</h1>
    
    <h2>Faculty Members and Their Workloads</h2>
    {% for faculty in faculty_members %}
        <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
            <h3>{{ faculty.name }} ({{ faculty.__class__.__name__ }})</h3>
            <p><strong>ID:</strong> {{ faculty.id }}</p>
            <p><strong>Department:</strong> {{ faculty.department }}</p>
            <p><strong>Responsibilities:</strong> {{ faculty.get_responsibilities() }}</p>
            <p><strong>Workload:</strong> {{ faculty.calculate_workload() }}</p>
            
            <h4>Assigned Courses:</h4>
            <ul>
                {% set courses_found = [] %}
                {% for course in courses %}
                    {% if course.faculty and course.faculty.id == faculty.id %}
                        {% set _ = courses_found.append(course) %}
                        <li>{{ course.name }} ({{ course.code }}) - Enrolled: {{ course.enrolled_students|length }}/{{ course.max_enrollment }}</li>
                    {% endif %}
                {% endfor %}
                {% if not courses_found %}
                    <li>No courses assigned</li>
                {% endif %}
            </ul>
        </div>
    {% endfor %}
    
    <a href="/">Back to Home</a>
</body>
</html>
